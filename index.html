<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Decision Diary | Behavioral Analytics Demo</title>
  
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">

  <style>
    /* ... (CSS Styles remain exactly as provided in your aesthetic version) ... */
    :root {
      --primary: #6366f1; --primary-hover: #4f46e5; --bg-soft: #f8fafc;
      --surface: #ffffff; --text-main: #1e293b; --text-muted: #475569;
      --border: #e2e8f0; --radius-lg: 24px; --radius-md: 16px;
      --shadow-soft: 0 20px 40px -5px rgba(0, 0, 0, 0.05), 0 8px 10px -6px rgba(0, 0, 0, 0.01);
      --shadow-hover: 0 25px 50px -12px rgba(99, 102, 241, 0.25);
      --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body { font-family: 'Inter', sans-serif; background: var(--bg-soft); color: var(--text-main); min-height: 100vh; display: flex; flex-direction: column; overflow-x: hidden; }
    .app-container { max-width: 1100px; margin: 0 auto; padding: 20px; width: 100%; flex: 1; display: flex; flex-direction: column; }
    header { display: flex; justify-content: space-between; align-items: center; padding: 20px 0 30px; }
    .brand { font-size: 22px; font-weight: 800; color: var(--text-main); display: flex; align-items: center; gap: 8px; cursor: pointer; letter-spacing: -0.5px; }
    .brand span { color: var(--primary); font-size: 28px; }
    nav { background: var(--surface); padding: 5px; border-radius: 50px; box-shadow: var(--shadow-soft); display: flex; gap: 5px; }
    .nav-btn { background: transparent; border: none; padding: 10px 24px; border-radius: 40px; font-size: 14px; font-weight: 600; color: var(--text-muted); cursor: pointer; transition: var(--transition); }
    .nav-btn:hover { color: var(--primary); background: #f1f5f9; }
    .nav-btn.active { background: var(--primary); color: white; box-shadow: 0 4px 12px rgba(99, 102, 241, 0.3); }
    main { flex: 1; display: flex; flex-direction: column; }
    .view-section { display: none; animation: fadeIn 0.6s cubic-bezier(0.22, 1, 0.36, 1) forwards; flex: 1; }
    .view-section.active-view { display: flex; flex-direction: column; }
    @keyframes fadeIn { from { opacity: 0; transform: translateY(20px) scale(0.98); } to { opacity: 1; transform: translateY(0) scale(1); } }
    .hero-container { flex: 1; border-radius: var(--radius-lg); background-color: #ffdee9; background-image: linear-gradient(180deg, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0) 100%), radial-gradient(at 50% 0%, hsla(225,100%,84%,1) 0px, transparent 50%), radial-gradient(at 100% 0%, hsla(339,100%,83%,1) 0px, transparent 50%), radial-gradient(at 0% 50%, hsla(288,100%,85%,1) 0px, transparent 50%), radial-gradient(at 80% 50%, hsla(199,100%,81%,1) 0px, transparent 50%), radial-gradient(at 0% 100%, hsla(316,100%,87%,1) 0px, transparent 50%), radial-gradient(at 80% 100%, hsla(240,100%,82%,1) 0px, transparent 50%), radial-gradient(at 50% 100%, hsla(189,100%,84%,1) 0px, transparent 50%); box-shadow: var(--shadow-soft); position: relative; overflow: hidden; display: flex; align-items: center; justify-content: center; padding: 40px; min-height: 500px; }
    .hero-container::before { content: ""; position: absolute; top:0; left:0; right:0; bottom:0; background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.08'/%3E%3C/svg%3E"); mix-blend-mode: soft-light; pointer-events: none; }
    .hero-glass-card { position: relative; z-index: 2; background: rgba(255, 255, 255, 0.65); backdrop-filter: blur(20px); -webkit-backdrop-filter: blur(20px); padding: 60px 40px; border-radius: var(--radius-lg); text-align: center; max-width: 650px; border: 1px solid rgba(255, 255, 255, 0.4); box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.1); }
    .hero-glass-card h1 { font-size: 56px; line-height: 1.05; margin-bottom: 24px; letter-spacing: -2px; font-weight: 800; background: linear-gradient(135deg, var(--text-main) 30%, var(--primary) 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
    .hero-glass-card p { font-size: 20px; color: var(--text-muted); margin-bottom: 40px; line-height: 1.5; font-weight: 500; }
    .cta-group { display: flex; gap: 15px; justify-content: center; }
    .btn { padding: 16px 32px; border-radius: 16px; font-weight: 700; font-size: 16px; border: none; cursor: pointer; transition: var(--transition); letter-spacing: 0.5px; }
    .btn-primary { background: var(--primary); color: white; box-shadow: 0 10px 25px -5px rgba(99, 102, 241, 0.5); }
    .btn-secondary { background: rgba(255,255,255,0.8); color: var(--text-main); border: 2px solid transparent; box-shadow: var(--shadow-soft); }
    .form-container-center { display: flex; align-items: center; justify-content: center; flex: 1; padding: 20px 0; }
    .card-form { background: var(--surface); border-radius: var(--radius-lg); padding: 50px; box-shadow: var(--shadow-soft); width: 100%; max-width: 550px; border: 1px solid var(--border); }
    .form-group { margin-bottom: 30px; }
    label { display: block; margin-bottom: 12px; font-size: 13px; font-weight: 700; color: var(--text-muted); text-transform: uppercase; letter-spacing: 1px; }
    select { width: 100%; padding: 18px; border-radius: var(--radius-md); border: 2px solid var(--border); font-size: 16px; font-weight: 500; background: #f8fafc; outline: none; transition: all 0.2s; cursor: pointer; appearance: none; background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='%236b7280' stroke-width='2'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E"); background-repeat: no-repeat; background-position: right 16px center; background-size: 20px; }
    .radio-group { display: flex; gap: 12px; flex-wrap: wrap; }
    .radio-group input[type="radio"] { display: none; }
    .radio-label { padding: 14px 24px; background: white; border-radius: 50px; font-size: 15px; cursor: pointer; transition: var(--transition); border: 2px solid var(--border); font-weight: 600; color: var(--text-muted); display: flex; align-items: center; gap: 8px; }
    input[type="radio"]:checked + .radio-label { background: #eef2ff; color: var(--primary); border-color: var(--primary); box-shadow: 0 8px 20px -5px rgba(99, 102, 241, 0.3); }
    input[type="range"] { width: 100%; -webkit-appearance: none; height: 8px; background: #e2e8f0; border-radius: 10px; outline: none; }
    input[type="range"]::-webkit-slider-thumb { -webkit-appearance: none; width: 28px; height: 28px; background: var(--primary); border: 3px solid white; border-radius: 50%; cursor: grab; box-shadow: 0 4px 12px rgba(99, 102, 241, 0.4); }
    .range-labels { display: flex; justify-content: space-between; margin-top: 12px; font-size: 13px; font-weight: 600; color: var(--text-muted); }
    .success-msg { margin-top: 25px; padding: 16px; background: #dcfce7; color: #166534; border-radius: var(--radius-md); text-align: center; display: none; border: 1px solid #86efac; font-weight: 500; }
    .dashboard-container { padding: 40px 0; }
    .dashboard-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(240px, 1fr)); gap: 25px; margin-top: 40px; }
    .stat-card { background: var(--surface); padding: 35px 25px; border-radius: var(--radius-lg); box-shadow: var(--shadow-soft); text-align: center; border: 1px solid transparent; position: relative; overflow: hidden; }
    .stat-card::after { content: ''; position: absolute; top: 0; left: 0; right: 0; height: 4px; background: var(--border); }
    .stat-card:nth-child(1)::after { background: var(--accent-career); }
    .stat-card:nth-child(2)::after { background: var(--primary); }
    .stat-card:nth-child(3)::after { background: var(--accent-emotional); }
    .stat-card:nth-child(4)::after { background: #f59e0b; }
    .stat-icon { width: 60px; height: 60px; background: #f1f5f9; border-radius: 20px; display: flex; align-items: center; justify-content: center; margin: 0 auto 20px; font-size: 28px; }
    .stat-value { font-size: 36px; font-weight: 800; color: var(--text-main); margin-bottom: 8px; letter-spacing: -1px; }
    .stat-label { font-size: 14px; font-weight: 600; color: var(--text-muted); text-transform: uppercase; letter-spacing: 0.5px; }
    footer { text-align: center; padding: 30px; color: var(--text-muted); font-size: 13px; font-weight: 500; }
  </style>
</head>
<body>

  <div class="app-container">
    <header>
      <div class="brand" onclick="app.router('home')">
        <span>‚óè</span> Decision Diary.
      </div>
      <nav>
        <button class="nav-btn active" id="nav-home" onclick="app.router('home')">Overview</button>
        <button class="nav-btn" id="nav-entry" onclick="app.router('entry')">Journal</button>
        <button class="nav-btn" id="nav-trends" onclick="app.router('trends')">Insights</button>
      </nav>
    </header>

    <main>
      <section id="view-home" class="view-section active-view">
        <div class="hero-container">
            <div class="hero-glass-card">
                <h1>Every decision<br>tells a story.</h1>
                <p>Cultivate mindfulness by tracking daily choices. Analyze your patterns, confidence, and timing in a beautiful, private space.</p>
                <div class="cta-group">
                  <button class="btn btn-primary" onclick="app.router('entry')">Log a Decision</button>
                  <button class="btn btn-secondary" onclick="app.router('trends')">View Demo Trends</button>
                </div>
            </div>
        </div>
      </section>

      <section id="view-entry" class="view-section">
        <div class="form-container-center">
            <div class="card-form">
            <h2 style="margin-bottom:10px; text-align:center; font-weight: 800; font-size: 28px;">New Entry</h2>
            <p style="text-align: center; color: var(--text-muted); margin-bottom: 40px;">Capture the moment of choice.</p>
            
            <form id="decisionForm" onsubmit="event.preventDefault(); app.logDecision();">
                <div class="form-group">
                <label for="category">What is this regarding?</label>
                <select id="category" required>
                    <option value="" disabled selected>Select Category...</option>
                    <option value="Career">üíº Career & Work</option>
                    <option value="Money">üí∞ Money & Finance</option>
                    <option value="Health">üå± Health & Wellness</option>
                    <option value="Learning">üß† Learning & Growth</option>
                    <option value="Social">ü§ù Social & Relationships</option>
                </select>
                </div>

                <div class="form-group">
                <label>How did you decide?</label>
                <div class="radio-group">
                    <label>
                    <input type="radio" name="dType" value="Quick" checked>
                    <span class="radio-label">‚ö° Quick Gut Feeling</span>
                    </label>
                    <label>
                    <input type="radio" name="dType" value="Thought-out">
                    <span class="radio-label">ü§î Thought-out Analysis</span>
                    </label>
                    <label>
                    <input type="radio" name="dType" value="Emotional">
                    <span class="radio-label">‚ù§Ô∏è Pure Emotion</span>
                    </label>
                </div>
                </div>

                <div class="form-group">
                <label for="timeSpent">Time taken to commit</label>
                <select id="timeSpent">
                    <option value="<1 min">Less than 1 minute</option>
                    <option value="1-5 mins">1 ‚Äì 5 minutes</option>
                    <option value="5+ mins">More than 5 minutes</option>
                </select>
                </div>

                <div class="form-group">
                <label>Confidence Level at the time</label>
                <div style="padding: 0 10px;">
                    <input type="range" id="confidence" min="1" max="10" value="5">
                </div>
                <div class="range-labels">
                    <span>Shaky</span>
                    <span>Solid</span>
                    <span>Unwavering</span>
                </div>
                </div>

                <button type="submit" class="btn btn-primary" style="width:100%; padding: 18px;">Save to Journal</button>
                <div id="form-feedback" class="success-msg">
                <strong>Entry Saved.</strong> The Adobe Data Layer has been updated.
                </div>
            </form>
            </div>
        </div>
      </section>

      <section id="view-trends" class="view-section">
        <div class="dashboard-container">
            <div style="text-align:center; margin-bottom: 40px;">
            <h2 style="font-size: 32px; font-weight: 800; margin-bottom: 10px;">Your Insights</h2>
            <p style="color:var(--text-muted); font-size: 18px;">Aggregated patterns from your recent logs.</p>
            </div>

            <div class="dashboard-grid">
            <div class="stat-card">
                <div class="stat-icon" style="color: var(--accent-career); background: #ebf5ff;">üíº</div>
                <div class="stat-value">Career</div>
                <div class="stat-label">Top Category</div>
            </div>
            <div class="stat-card">
                <div class="stat-icon" style="color: var(--primary); background: #eef2ff;">üìä</div>
                <div class="stat-value">7.8 <span style="font-size:20px; color: var(--text-muted)">/10</span></div>
                <div class="stat-label">Avg. Confidence</div>
            </div>
            <div class="stat-card">
                <div class="stat-icon" style="color: var(--accent-emotional); background: #fff1f2;">‚ö°</div>
                <div class="stat-value">65%</div>
                <div class="stat-label">Quick Decisions</div>
            </div>
            <div class="stat-card">
                <div class="stat-icon" style="color: #f59e0b; background: #fffbeb;">‚è∞</div>
                <div class="stat-value">10 AM</div>
                <div class="stat-label">Peak Decision Time</div>
            </div>
            </div>
            
            <div style="margin-top: 60px; text-align: center; padding: 20px; background: #f1f5f9; border-radius: var(--radius-md); color: var(--text-muted);">
                <p><strong>Adobe Data Layer Active:</strong> Type <code>adobeDataLayer</code> in the console to see the event history.</p>
            </div>
        </div>
      </section>
    </main>

    <footer>
      Decision Diary Demo &copy; 2024 | Adobe Analytics Implementation Test
    </footer>
  </div>

  <script>
    /**
     * ADOBE CLIENT DATA LAYER (ACDL)
     * Using the event-driven standard for Adobe Experience Platform
     */
    window.adobeDataLayer = window.adobeDataLayer || [];

    const app = {
      router: (viewName) => {
        document.querySelectorAll('.view-section').forEach(el => el.classList.remove('active-view'));
        document.querySelectorAll('.nav-btn').forEach(el => el.classList.remove('active'));

        document.getElementById(`view-${viewName}`).classList.add('active-view');
        const navBtn = document.getElementById(`nav-${viewName}`);
        if(navBtn) navBtn.classList.add('active');

        // ADOBE DATA LAYER: Update State & Fire Page View Event
        window.adobeDataLayer.push({
          "event": "page_view",
          "page": {
            "pageName": `decision_diary:${viewName}`,
            "siteSection": "main",
            "language": "en-us",
            "viewName": viewName
          },
          "timestamp": new Date().toISOString()
        });
        
        console.group(`%c üìÑ Adobe Page View: ${viewName}`, 'color: #3b82f6; font-weight: bold;');
        console.log(window.adobeDataLayer[window.adobeDataLayer.length - 1]);
        console.groupEnd();
      },

      logDecision: () => {
        const category = document.getElementById('category').value;
        const typeEl = document.querySelector('input[name="dType"]:checked');
        const type = typeEl ? typeEl.value : "Unknown";
        const time = document.getElementById('timeSpent').value;
        const confidence = document.getElementById('confidence').value;

        if(!category) { alert("Please select a category."); return; }

        // ADOBE DATA LAYER: Track Interaction Event
        window.adobeDataLayer.push({
          "event": "decision_submit",
          "decision": {
            "category": category,
            "decisionType": type,
            "timeSpent": time,
            "confidenceLevel": parseInt(confidence)
          },
          "user": {
            "status": "guest"
          },
          "timestamp": new Date().toISOString()
        });

        console.group(`%c ‚ö° Adobe Interaction: Decision Logged`, 'color: #10b981; font-weight: bold;');
        console.log(window.adobeDataLayer[window.adobeDataLayer.length - 1]);
        console.groupEnd();

        const feedback = document.getElementById('form-feedback');
        feedback.style.display = 'block';
        setTimeout(() => {
          feedback.style.display = 'none';
          document.getElementById('decisionForm').reset();
        }, 3000);
      }
    };

    document.addEventListener('DOMContentLoaded', () => {
      app.router('home');
    });
  </script>
</body>
</html>